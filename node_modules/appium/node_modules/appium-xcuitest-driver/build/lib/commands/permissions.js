"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.helpers = exports.commands = void 0;

require("source-map-support/register");

let commands = {},
    helpers = {},
    extensions = {};
exports.helpers = helpers;
exports.commands = commands;

function assertIsSimulator(driver) {
  if (!driver.isSimulator()) {
    throw new Error('Permissions setting can only be performed on Simulator');
  }
}

function assertPermissionOptions(opts = {}) {
  if (!opts.service) {
    throw new Error('Service name is mandatory to set');
  }

  if (!opts.bundleId) {
    throw new Error('Bundle identifier name is mandatory to set');
  }

  return opts;
}

commands.mobileGetPermission = async function mobileGetPermission(opts = {}) {
  const {
    service,
    bundleId
  } = assertPermissionOptions(opts);
  assertIsSimulator(this);
  return await this.opts.device.getPermission(bundleId, service);
};

Object.assign(extensions, commands, helpers);
var _default = extensions;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9jb21tYW5kcy9wZXJtaXNzaW9ucy5qcyJdLCJuYW1lcyI6WyJjb21tYW5kcyIsImhlbHBlcnMiLCJleHRlbnNpb25zIiwiYXNzZXJ0SXNTaW11bGF0b3IiLCJkcml2ZXIiLCJpc1NpbXVsYXRvciIsIkVycm9yIiwiYXNzZXJ0UGVybWlzc2lvbk9wdGlvbnMiLCJvcHRzIiwic2VydmljZSIsImJ1bmRsZUlkIiwibW9iaWxlR2V0UGVybWlzc2lvbiIsImRldmljZSIsImdldFBlcm1pc3Npb24iLCJPYmplY3QiLCJhc3NpZ24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLElBQUlBLFFBQVEsR0FBRyxFQUFmO0FBQUEsSUFBbUJDLE9BQU8sR0FBRyxFQUE3QjtBQUFBLElBQWlDQyxVQUFVLEdBQUcsRUFBOUM7Ozs7QUFFQSxTQUFTQyxpQkFBVCxDQUE0QkMsTUFBNUIsRUFBb0M7QUFDbEMsTUFBSSxDQUFDQSxNQUFNLENBQUNDLFdBQVAsRUFBTCxFQUEyQjtBQUN6QixVQUFNLElBQUlDLEtBQUosQ0FBVSx3REFBVixDQUFOO0FBQ0Q7QUFDRjs7QUFFRCxTQUFTQyx1QkFBVCxDQUFrQ0MsSUFBSSxHQUFHLEVBQXpDLEVBQTZDO0FBQzNDLE1BQUksQ0FBQ0EsSUFBSSxDQUFDQyxPQUFWLEVBQW1CO0FBQ2pCLFVBQU0sSUFBSUgsS0FBSixDQUFVLGtDQUFWLENBQU47QUFDRDs7QUFDRCxNQUFJLENBQUNFLElBQUksQ0FBQ0UsUUFBVixFQUFvQjtBQUNsQixVQUFNLElBQUlKLEtBQUosQ0FBVSw0Q0FBVixDQUFOO0FBQ0Q7O0FBQ0QsU0FBT0UsSUFBUDtBQUNEOztBQTRCRFIsUUFBUSxDQUFDVyxtQkFBVCxHQUErQixlQUFlQSxtQkFBZixDQUFvQ0gsSUFBSSxHQUFHLEVBQTNDLEVBQStDO0FBQzVFLFFBQU07QUFDSkMsSUFBQUEsT0FESTtBQUVKQyxJQUFBQTtBQUZJLE1BR0ZILHVCQUF1QixDQUFDQyxJQUFELENBSDNCO0FBS0FMLEVBQUFBLGlCQUFpQixDQUFDLElBQUQsQ0FBakI7QUFFQSxTQUFPLE1BQU0sS0FBS0ssSUFBTCxDQUFVSSxNQUFWLENBQWlCQyxhQUFqQixDQUErQkgsUUFBL0IsRUFBeUNELE9BQXpDLENBQWI7QUFDRCxDQVREOztBQVdBSyxNQUFNLENBQUNDLE1BQVAsQ0FBY2IsVUFBZCxFQUEwQkYsUUFBMUIsRUFBb0NDLE9BQXBDO2VBRWVDLFUiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgY29tbWFuZHMgPSB7fSwgaGVscGVycyA9IHt9LCBleHRlbnNpb25zID0ge307XG5cbmZ1bmN0aW9uIGFzc2VydElzU2ltdWxhdG9yIChkcml2ZXIpIHtcbiAgaWYgKCFkcml2ZXIuaXNTaW11bGF0b3IoKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUGVybWlzc2lvbnMgc2V0dGluZyBjYW4gb25seSBiZSBwZXJmb3JtZWQgb24gU2ltdWxhdG9yJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0UGVybWlzc2lvbk9wdGlvbnMgKG9wdHMgPSB7fSkge1xuICBpZiAoIW9wdHMuc2VydmljZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU2VydmljZSBuYW1lIGlzIG1hbmRhdG9yeSB0byBzZXQnKTtcbiAgfVxuICBpZiAoIW9wdHMuYnVuZGxlSWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0J1bmRsZSBpZGVudGlmaWVyIG5hbWUgaXMgbWFuZGF0b3J5IHRvIHNldCcpO1xuICB9XG4gIHJldHVybiBvcHRzO1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEdldFBlcm1pc3Npb25PcHRpb25zXG4gKlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHNlcnZpY2UgLSBPbmUgb2YgYXZhaWxhYmxlIHNlcnZpY2UgbmFtZXMuIFRoZSBmb2xsb3dpbmcgc2VydmljZXMgYXJlIHN1cHBvcnRlZDpcbiAqIGNhbGVuZGFyLFxuICogY2FtZXJhLFxuICogY29udGFjdHMsXG4gKiBob21la2l0LFxuICogbWljcm9waG9uZSxcbiAqIHBob3RvcyxcbiAqIHJlbWluZGVycyxcbiAqIG1lZGlhbGlicmFyeSxcbiAqIG1vdGlvbixcbiAqIGhlYWx0aDosXG4gKiBzaXJpLFxuICogc3BlZWNoLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGJ1bmRsZUlkIC0gVGhlIGJ1bmRsZSBpZGVudGlmaWVyIG9mIHRoZSBkZXN0aW5hdGlvbiBhcHAuXG4gKi9cblxuLyoqXG4gKiBHZXRzIGFwcGxpY2F0aW9uIHBlcm1pc3Npb24gc3RhdGUgb24gU2ltdWxhdG9yLlxuICpcbiAqIEBwYXJhbSB7R2V0UGVybWlzc2lvbk9wdGlvbnN9IG9wdHMgLSBQZXJtaXNzaW9uIG9wdGlvbnMuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBFaXRoZXIgJ3llcycsICdubycgb3IgJ3Vuc2V0J1xuICogQHRocm93cyB7RXJyb3J9IElmIHBlcm1pc3Npb24gZ2V0dGluZyBmYWlscyBvciB0aGUgZGV2aWNlIGlzIG5vdCBhIFNpbXVsYXRvci5cbiAqL1xuY29tbWFuZHMubW9iaWxlR2V0UGVybWlzc2lvbiA9IGFzeW5jIGZ1bmN0aW9uIG1vYmlsZUdldFBlcm1pc3Npb24gKG9wdHMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgc2VydmljZSxcbiAgICBidW5kbGVJZCxcbiAgfSA9IGFzc2VydFBlcm1pc3Npb25PcHRpb25zKG9wdHMpO1xuXG4gIGFzc2VydElzU2ltdWxhdG9yKHRoaXMpO1xuXG4gIHJldHVybiBhd2FpdCB0aGlzLm9wdHMuZGV2aWNlLmdldFBlcm1pc3Npb24oYnVuZGxlSWQsIHNlcnZpY2UpO1xufTtcblxuT2JqZWN0LmFzc2lnbihleHRlbnNpb25zLCBjb21tYW5kcywgaGVscGVycyk7XG5leHBvcnQgeyBjb21tYW5kcywgaGVscGVycyB9O1xuZXhwb3J0IGRlZmF1bHQgZXh0ZW5zaW9ucztcbiJdLCJmaWxlIjoibGliL2NvbW1hbmRzL3Blcm1pc3Npb25zLmpzIiwic291cmNlUm9vdCI6Ii4uLy4uLy4uIn0=
