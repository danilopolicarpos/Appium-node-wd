"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.helpers = exports.commands = void 0;

require("source-map-support/register");

var _logger = _interopRequireDefault(require("../logger"));

let commands = {},
    helpers = {},
    extensions = {};
exports.helpers = helpers;
exports.commands = commands;

commands.getOrientation = async function getOrientation() {
  try {
    let res = await this.uiAutoClient.sendCommand('au.getScreenOrientation()');

    _logger.default.debug(`Setting internal orientation to '${res}'`);

    this.opts.curOrientation = res;
    return res;
  } catch (err) {
    _logger.default.error(`Device orientation is not supported.`);

    throw err;
  }
};

commands.setOrientation = async function setOrientation(orientation) {
  orientation = orientation.toUpperCase();
  let cmd = `au.setScreenOrientation('${orientation}')`;

  try {
    let res = await this.uiAutoClient.sendCommand(cmd);
    this.opts.curOrientation = orientation;
    return res;
  } catch (err) {
    _logger.default.error(`Device orientation ${orientation} is not supported on this device.`);

    throw err;
  }
};

Object.assign(extensions, commands, helpers);
var _default = extensions;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9jb21tYW5kcy9vcmllbnRhdGlvbi5qcyJdLCJuYW1lcyI6WyJjb21tYW5kcyIsImhlbHBlcnMiLCJleHRlbnNpb25zIiwiZ2V0T3JpZW50YXRpb24iLCJyZXMiLCJ1aUF1dG9DbGllbnQiLCJzZW5kQ29tbWFuZCIsImxvZ2dlciIsImRlYnVnIiwib3B0cyIsImN1ck9yaWVudGF0aW9uIiwiZXJyIiwiZXJyb3IiLCJzZXRPcmllbnRhdGlvbiIsIm9yaWVudGF0aW9uIiwidG9VcHBlckNhc2UiLCJjbWQiLCJPYmplY3QiLCJhc3NpZ24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBR0EsSUFBSUEsUUFBUSxHQUFHLEVBQWY7QUFBQSxJQUFtQkMsT0FBTyxHQUFHLEVBQTdCO0FBQUEsSUFBaUNDLFVBQVUsR0FBRyxFQUE5Qzs7OztBQUVBRixRQUFRLENBQUNHLGNBQVQsR0FBMEIsZUFBZUEsY0FBZixHQUFpQztBQUN6RCxNQUFJO0FBQ0YsUUFBSUMsR0FBRyxHQUFHLE1BQU0sS0FBS0MsWUFBTCxDQUFrQkMsV0FBbEIsQ0FBOEIsMkJBQTlCLENBQWhCOztBQUVBQyxvQkFBT0MsS0FBUCxDQUFjLG9DQUFtQ0osR0FBSSxHQUFyRDs7QUFDQSxTQUFLSyxJQUFMLENBQVVDLGNBQVYsR0FBMkJOLEdBQTNCO0FBQ0EsV0FBT0EsR0FBUDtBQUNELEdBTkQsQ0FNRSxPQUFPTyxHQUFQLEVBQVk7QUFDWkosb0JBQU9LLEtBQVAsQ0FBYyxzQ0FBZDs7QUFDQSxVQUFNRCxHQUFOO0FBQ0Q7QUFDRixDQVhEOztBQWFBWCxRQUFRLENBQUNhLGNBQVQsR0FBMEIsZUFBZUEsY0FBZixDQUErQkMsV0FBL0IsRUFBNEM7QUFDcEVBLEVBQUFBLFdBQVcsR0FBR0EsV0FBVyxDQUFDQyxXQUFaLEVBQWQ7QUFDQSxNQUFJQyxHQUFHLEdBQUksNEJBQTJCRixXQUFZLElBQWxEOztBQUNBLE1BQUk7QUFDRixRQUFJVixHQUFHLEdBQUcsTUFBTSxLQUFLQyxZQUFMLENBQWtCQyxXQUFsQixDQUE4QlUsR0FBOUIsQ0FBaEI7QUFDQSxTQUFLUCxJQUFMLENBQVVDLGNBQVYsR0FBMkJJLFdBQTNCO0FBQ0EsV0FBT1YsR0FBUDtBQUNELEdBSkQsQ0FJRSxPQUFPTyxHQUFQLEVBQVk7QUFDWkosb0JBQU9LLEtBQVAsQ0FBYyxzQkFBcUJFLFdBQVksbUNBQS9DOztBQUNBLFVBQU1ILEdBQU47QUFDRDtBQUNGLENBWEQ7O0FBY0FNLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjaEIsVUFBZCxFQUEwQkYsUUFBMUIsRUFBb0NDLE9BQXBDO2VBRWVDLFUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbG9nZ2VyIGZyb20gJy4uL2xvZ2dlcic7XG5cblxubGV0IGNvbW1hbmRzID0ge30sIGhlbHBlcnMgPSB7fSwgZXh0ZW5zaW9ucyA9IHt9O1xuXG5jb21tYW5kcy5nZXRPcmllbnRhdGlvbiA9IGFzeW5jIGZ1bmN0aW9uIGdldE9yaWVudGF0aW9uICgpIHtcbiAgdHJ5IHtcbiAgICBsZXQgcmVzID0gYXdhaXQgdGhpcy51aUF1dG9DbGllbnQuc2VuZENvbW1hbmQoJ2F1LmdldFNjcmVlbk9yaWVudGF0aW9uKCknKTtcbiAgICAvLyBrZWVwIHRyYWNrIG9mIG9yaWVudGF0aW9uIGZvciBvdXIgb3duIHB1cnBvc2VzXG4gICAgbG9nZ2VyLmRlYnVnKGBTZXR0aW5nIGludGVybmFsIG9yaWVudGF0aW9uIHRvICcke3Jlc30nYCk7XG4gICAgdGhpcy5vcHRzLmN1ck9yaWVudGF0aW9uID0gcmVzO1xuICAgIHJldHVybiByZXM7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGxvZ2dlci5lcnJvcihgRGV2aWNlIG9yaWVudGF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQuYCk7XG4gICAgdGhyb3cgZXJyO1xuICB9XG59O1xuXG5jb21tYW5kcy5zZXRPcmllbnRhdGlvbiA9IGFzeW5jIGZ1bmN0aW9uIHNldE9yaWVudGF0aW9uIChvcmllbnRhdGlvbikge1xuICBvcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uLnRvVXBwZXJDYXNlKCk7XG4gIGxldCBjbWQgPSBgYXUuc2V0U2NyZWVuT3JpZW50YXRpb24oJyR7b3JpZW50YXRpb259JylgO1xuICB0cnkge1xuICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLnVpQXV0b0NsaWVudC5zZW5kQ29tbWFuZChjbWQpO1xuICAgIHRoaXMub3B0cy5jdXJPcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uO1xuICAgIHJldHVybiByZXM7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGxvZ2dlci5lcnJvcihgRGV2aWNlIG9yaWVudGF0aW9uICR7b3JpZW50YXRpb259IGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBkZXZpY2UuYCk7XG4gICAgdGhyb3cgZXJyO1xuICB9XG59O1xuXG5cbk9iamVjdC5hc3NpZ24oZXh0ZW5zaW9ucywgY29tbWFuZHMsIGhlbHBlcnMpO1xuZXhwb3J0IHsgY29tbWFuZHMsIGhlbHBlcnMgfTtcbmV4cG9ydCBkZWZhdWx0IGV4dGVuc2lvbnM7XG4iXSwiZmlsZSI6ImxpYi9jb21tYW5kcy9vcmllbnRhdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIuLi8uLi8uLiJ9
