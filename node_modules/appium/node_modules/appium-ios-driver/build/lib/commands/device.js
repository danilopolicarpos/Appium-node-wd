"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.helpers = exports.commands = void 0;

require("source-map-support/register");

let commands = {},
    helpers = {},
    extensions = {};
exports.helpers = helpers;
exports.commands = commands;

commands.getDevicePixelRatio = async function getDevicePixelRatio() {
  const screenHeight = (await this.getWindowSize()).height;
  const screenHeightOfPlusDevices = 736;
  return screenHeight === screenHeightOfPlusDevices ? 3.0 : 2.0;
};

commands.getViewportRect = async function getViewportRect() {
  const scale = await this.getDevicePixelRatio();
  const statusBarHeight = Math.round((await this.getStatusBarHeight()) * scale);
  const windowSize = await this.getWindowSize();
  return {
    left: 0,
    top: statusBarHeight,
    width: windowSize.width * scale,
    height: windowSize.height * scale - statusBarHeight
  };
};

commands.getStatusBarHeight = async function getStatusBarHeight() {
  const command = 'UIATarget.localTarget().frontMostApp().statusBar().rect().size.height;';
  return await this.uiAutoClient.sendCommand(command);
};

Object.assign(extensions, commands, helpers);
var _default = extensions;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9jb21tYW5kcy9kZXZpY2UuanMiXSwibmFtZXMiOlsiY29tbWFuZHMiLCJoZWxwZXJzIiwiZXh0ZW5zaW9ucyIsImdldERldmljZVBpeGVsUmF0aW8iLCJzY3JlZW5IZWlnaHQiLCJnZXRXaW5kb3dTaXplIiwiaGVpZ2h0Iiwic2NyZWVuSGVpZ2h0T2ZQbHVzRGV2aWNlcyIsImdldFZpZXdwb3J0UmVjdCIsInNjYWxlIiwic3RhdHVzQmFySGVpZ2h0IiwiTWF0aCIsInJvdW5kIiwiZ2V0U3RhdHVzQmFySGVpZ2h0Iiwid2luZG93U2l6ZSIsImxlZnQiLCJ0b3AiLCJ3aWR0aCIsImNvbW1hbmQiLCJ1aUF1dG9DbGllbnQiLCJzZW5kQ29tbWFuZCIsIk9iamVjdCIsImFzc2lnbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsSUFBSUEsUUFBUSxHQUFHLEVBQWY7QUFBQSxJQUFtQkMsT0FBTyxHQUFHLEVBQTdCO0FBQUEsSUFBaUNDLFVBQVUsR0FBRyxFQUE5Qzs7OztBQUdBRixRQUFRLENBQUNHLG1CQUFULEdBQStCLGVBQWVBLG1CQUFmLEdBQXNDO0FBQ25FLFFBQU1DLFlBQVksR0FBRyxDQUFDLE1BQU0sS0FBS0MsYUFBTCxFQUFQLEVBQTZCQyxNQUFsRDtBQUVBLFFBQU1DLHlCQUF5QixHQUFHLEdBQWxDO0FBQ0EsU0FBT0gsWUFBWSxLQUFLRyx5QkFBakIsR0FBNkMsR0FBN0MsR0FBbUQsR0FBMUQ7QUFDRCxDQUxEOztBQU9BUCxRQUFRLENBQUNRLGVBQVQsR0FBMkIsZUFBZUEsZUFBZixHQUFrQztBQUMzRCxRQUFNQyxLQUFLLEdBQUcsTUFBTSxLQUFLTixtQkFBTCxFQUFwQjtBQUVBLFFBQU1PLGVBQWUsR0FBR0MsSUFBSSxDQUFDQyxLQUFMLENBQVcsT0FBTSxLQUFLQyxrQkFBTCxFQUFOLElBQWtDSixLQUE3QyxDQUF4QjtBQUNBLFFBQU1LLFVBQVUsR0FBRyxNQUFNLEtBQUtULGFBQUwsRUFBekI7QUFJQSxTQUFPO0FBQ0xVLElBQUFBLElBQUksRUFBRSxDQUREO0FBRUxDLElBQUFBLEdBQUcsRUFBRU4sZUFGQTtBQUdMTyxJQUFBQSxLQUFLLEVBQUVILFVBQVUsQ0FBQ0csS0FBWCxHQUFtQlIsS0FIckI7QUFJTEgsSUFBQUEsTUFBTSxFQUFJUSxVQUFVLENBQUNSLE1BQVgsR0FBb0JHLEtBQXJCLEdBQThCQztBQUpsQyxHQUFQO0FBTUQsQ0FkRDs7QUFnQkFWLFFBQVEsQ0FBQ2Esa0JBQVQsR0FBOEIsZUFBZUEsa0JBQWYsR0FBcUM7QUFDakUsUUFBTUssT0FBTyxHQUFHLHdFQUFoQjtBQUNBLFNBQU8sTUFBTSxLQUFLQyxZQUFMLENBQWtCQyxXQUFsQixDQUE4QkYsT0FBOUIsQ0FBYjtBQUNELENBSEQ7O0FBS0FHLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjcEIsVUFBZCxFQUEwQkYsUUFBMUIsRUFBb0NDLE9BQXBDO2VBRWVDLFUiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgY29tbWFuZHMgPSB7fSwgaGVscGVycyA9IHt9LCBleHRlbnNpb25zID0ge307XG5cbi8vIHRoaXMgZnVuY3Rpb24gaXMgbWVtb2l6ZWQgaW4gSU9TRHJpdmVyJ3MgY29uc3RydWN0b3JcbmNvbW1hbmRzLmdldERldmljZVBpeGVsUmF0aW8gPSBhc3luYyBmdW5jdGlvbiBnZXREZXZpY2VQaXhlbFJhdGlvICgpIHtcbiAgY29uc3Qgc2NyZWVuSGVpZ2h0ID0gKGF3YWl0IHRoaXMuZ2V0V2luZG93U2l6ZSgpKS5oZWlnaHQ7XG4gIC8vIFRoZXJlIGlzIG5vIHdheSB0byBncmFiIHNjYWxlIGZyb20gVUlBdXRvbWF0aW9uLiBBbGwgZGV2aWNlcyBoYXZlIHNjYWxlIDIuMCBleGNlcHQgaVBob25lIDYrLCBpUGhvbmUgNnMrLCBpUGhvbmU3KyAtIDMuMC5cbiAgY29uc3Qgc2NyZWVuSGVpZ2h0T2ZQbHVzRGV2aWNlcyA9IDczNjtcbiAgcmV0dXJuIHNjcmVlbkhlaWdodCA9PT0gc2NyZWVuSGVpZ2h0T2ZQbHVzRGV2aWNlcyA/IDMuMCA6IDIuMDtcbn07XG5cbmNvbW1hbmRzLmdldFZpZXdwb3J0UmVjdCA9IGFzeW5jIGZ1bmN0aW9uIGdldFZpZXdwb3J0UmVjdCAoKSB7XG4gIGNvbnN0IHNjYWxlID0gYXdhaXQgdGhpcy5nZXREZXZpY2VQaXhlbFJhdGlvKCk7XG4gIC8vIHN0YXR1cyBiYXIgaGVpZ2h0IGNvbWVzIGluIHVuc2NhbGVkLCBzbyBzY2FsZSBpdFxuICBjb25zdCBzdGF0dXNCYXJIZWlnaHQgPSBNYXRoLnJvdW5kKGF3YWl0IHRoaXMuZ2V0U3RhdHVzQmFySGVpZ2h0KCkgKiBzY2FsZSk7XG4gIGNvbnN0IHdpbmRvd1NpemUgPSBhd2FpdCB0aGlzLmdldFdpbmRvd1NpemUoKTtcblxuICAvLyBpb3MgcmV0dXJucyBjb29yZGluYXRlcy9kaW1lbnNpb25zIGluIGxvZ2ljYWwgcGl4ZWxzLCBub3QgZGV2aWNlIHBpeGVscyxcbiAgLy8gc28gc2NhbGUgdXAgdG8gZGV2aWNlIHBpeGVscy4gc3RhdHVzIGJhciBoZWlnaHQgaXMgYWxyZWFkeSBzY2FsZWQuXG4gIHJldHVybiB7XG4gICAgbGVmdDogMCxcbiAgICB0b3A6IHN0YXR1c0JhckhlaWdodCxcbiAgICB3aWR0aDogd2luZG93U2l6ZS53aWR0aCAqIHNjYWxlLFxuICAgIGhlaWdodDogKCh3aW5kb3dTaXplLmhlaWdodCAqIHNjYWxlKSAtIHN0YXR1c0JhckhlaWdodCksXG4gIH07XG59O1xuXG5jb21tYW5kcy5nZXRTdGF0dXNCYXJIZWlnaHQgPSBhc3luYyBmdW5jdGlvbiBnZXRTdGF0dXNCYXJIZWlnaHQgKCkge1xuICBjb25zdCBjb21tYW5kID0gJ1VJQVRhcmdldC5sb2NhbFRhcmdldCgpLmZyb250TW9zdEFwcCgpLnN0YXR1c0JhcigpLnJlY3QoKS5zaXplLmhlaWdodDsnO1xuICByZXR1cm4gYXdhaXQgdGhpcy51aUF1dG9DbGllbnQuc2VuZENvbW1hbmQoY29tbWFuZCk7XG59O1xuXG5PYmplY3QuYXNzaWduKGV4dGVuc2lvbnMsIGNvbW1hbmRzLCBoZWxwZXJzKTtcbmV4cG9ydCB7IGNvbW1hbmRzLCBoZWxwZXJzIH07XG5leHBvcnQgZGVmYXVsdCBleHRlbnNpb25zO1xuIl0sImZpbGUiOiJsaWIvY29tbWFuZHMvZGV2aWNlLmpzIiwic291cmNlUm9vdCI6Ii4uLy4uLy4uIn0=
