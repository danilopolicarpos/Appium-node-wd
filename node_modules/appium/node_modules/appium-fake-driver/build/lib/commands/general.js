"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.helpers = exports.commands = void 0;

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _lodash = _interopRequireDefault(require("lodash"));

var _appiumBaseDriver = require("appium-base-driver");

let commands = {},
    helpers = {},
    extensions = {};
exports.helpers = helpers;
exports.commands = commands;
commands.title = (0, _asyncToGenerator2.default)(function* () {
  this.assertWebviewContext();
  return this.appModel.title;
});

commands.keys = function () {
  var _ref2 = (0, _asyncToGenerator2.default)(function* (value) {
    if (!this.focusedElId) {
      throw new _appiumBaseDriver.errors.InvalidElementStateError();
    }

    yield this.setValue(value, this.focusedElId);
  });

  return function (_x) {
    return _ref2.apply(this, arguments);
  };
}();

commands.setGeoLocation = function () {
  var _ref3 = (0, _asyncToGenerator2.default)(function* (location) {
    this.appModel.lat = location.latitude;
    this.appModel.long = location.longitude;
  });

  return function (_x2) {
    return _ref3.apply(this, arguments);
  };
}();

commands.getGeoLocation = (0, _asyncToGenerator2.default)(function* () {
  return this.appModel.currentGeoLocation;
});
commands.getPageSource = (0, _asyncToGenerator2.default)(function* () {
  return this.appModel.rawXml;
});
commands.getOrientation = (0, _asyncToGenerator2.default)(function* () {
  return this.appModel.orientation;
});

commands.setOrientation = function () {
  var _ref7 = (0, _asyncToGenerator2.default)(function* (o) {
    if (!_lodash.default.includes(["LANDSCAPE", "PORTRAIT"], o)) {
      throw new _appiumBaseDriver.errors.UnknownError("Orientation must be LANDSCAPE or PORTRAIT");
    }

    this.appModel.orientation = o;
  });

  return function (_x3) {
    return _ref7.apply(this, arguments);
  };
}();

commands.getScreenshot = (0, _asyncToGenerator2.default)(function* () {
  return this.appModel.getScreenshot();
});
Object.assign(extensions, commands, helpers);
var _default = extensions;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9jb21tYW5kcy9nZW5lcmFsLmpzIl0sIm5hbWVzIjpbImNvbW1hbmRzIiwiaGVscGVycyIsImV4dGVuc2lvbnMiLCJ0aXRsZSIsImFzc2VydFdlYnZpZXdDb250ZXh0IiwiYXBwTW9kZWwiLCJrZXlzIiwidmFsdWUiLCJmb2N1c2VkRWxJZCIsImVycm9ycyIsIkludmFsaWRFbGVtZW50U3RhdGVFcnJvciIsInNldFZhbHVlIiwic2V0R2VvTG9jYXRpb24iLCJsb2NhdGlvbiIsImxhdCIsImxhdGl0dWRlIiwibG9uZyIsImxvbmdpdHVkZSIsImdldEdlb0xvY2F0aW9uIiwiY3VycmVudEdlb0xvY2F0aW9uIiwiZ2V0UGFnZVNvdXJjZSIsInJhd1htbCIsImdldE9yaWVudGF0aW9uIiwib3JpZW50YXRpb24iLCJzZXRPcmllbnRhdGlvbiIsIm8iLCJfIiwiaW5jbHVkZXMiLCJVbmtub3duRXJyb3IiLCJnZXRTY3JlZW5zaG90IiwiT2JqZWN0IiwiYXNzaWduIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUVBLElBQUlBLFFBQVEsR0FBRyxFQUFmO0FBQUEsSUFBbUJDLE9BQU8sR0FBRyxFQUE3QjtBQUFBLElBQWlDQyxVQUFVLEdBQUcsRUFBOUM7OztBQUVBRixRQUFRLENBQUNHLEtBQVQsbUNBQWlCLGFBQWtCO0FBQ2pDLE9BQUtDLG9CQUFMO0FBQ0EsU0FBTyxLQUFLQyxRQUFMLENBQWNGLEtBQXJCO0FBQ0QsQ0FIRDs7QUFLQUgsUUFBUSxDQUFDTSxJQUFUO0FBQUEsOENBQWdCLFdBQWdCQyxLQUFoQixFQUF1QjtBQUNyQyxRQUFJLENBQUMsS0FBS0MsV0FBVixFQUF1QjtBQUNyQixZQUFNLElBQUlDLHlCQUFPQyx3QkFBWCxFQUFOO0FBQ0Q7O0FBQ0QsVUFBTSxLQUFLQyxRQUFMLENBQWNKLEtBQWQsRUFBcUIsS0FBS0MsV0FBMUIsQ0FBTjtBQUNELEdBTEQ7O0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBT0FSLFFBQVEsQ0FBQ1ksY0FBVDtBQUFBLDhDQUEwQixXQUFnQkMsUUFBaEIsRUFBMEI7QUFFbEQsU0FBS1IsUUFBTCxDQUFjUyxHQUFkLEdBQW9CRCxRQUFRLENBQUNFLFFBQTdCO0FBQ0EsU0FBS1YsUUFBTCxDQUFjVyxJQUFkLEdBQXFCSCxRQUFRLENBQUNJLFNBQTlCO0FBQ0QsR0FKRDs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFNQWpCLFFBQVEsQ0FBQ2tCLGNBQVQsbUNBQTBCLGFBQWtCO0FBQzFDLFNBQU8sS0FBS2IsUUFBTCxDQUFjYyxrQkFBckI7QUFDRCxDQUZEO0FBSUFuQixRQUFRLENBQUNvQixhQUFULG1DQUF5QixhQUFrQjtBQUN6QyxTQUFPLEtBQUtmLFFBQUwsQ0FBY2dCLE1BQXJCO0FBQ0QsQ0FGRDtBQUlBckIsUUFBUSxDQUFDc0IsY0FBVCxtQ0FBMEIsYUFBa0I7QUFDMUMsU0FBTyxLQUFLakIsUUFBTCxDQUFja0IsV0FBckI7QUFDRCxDQUZEOztBQUlBdkIsUUFBUSxDQUFDd0IsY0FBVDtBQUFBLDhDQUEwQixXQUFnQkMsQ0FBaEIsRUFBbUI7QUFDM0MsUUFBSSxDQUFDQyxnQkFBRUMsUUFBRixDQUFXLENBQUMsV0FBRCxFQUFjLFVBQWQsQ0FBWCxFQUFzQ0YsQ0FBdEMsQ0FBTCxFQUErQztBQUM3QyxZQUFNLElBQUloQix5QkFBT21CLFlBQVgsQ0FBd0IsMkNBQXhCLENBQU47QUFDRDs7QUFDRCxTQUFLdkIsUUFBTCxDQUFja0IsV0FBZCxHQUE0QkUsQ0FBNUI7QUFDRCxHQUxEOztBQUFBO0FBQUE7QUFBQTtBQUFBOztBQU9BekIsUUFBUSxDQUFDNkIsYUFBVCxtQ0FBeUIsYUFBa0I7QUFDekMsU0FBTyxLQUFLeEIsUUFBTCxDQUFjd0IsYUFBZCxFQUFQO0FBQ0QsQ0FGRDtBQUlBQyxNQUFNLENBQUNDLE1BQVAsQ0FBYzdCLFVBQWQsRUFBMEJGLFFBQTFCLEVBQW9DQyxPQUFwQztlQUVlQyxVIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IGVycm9ycyB9IGZyb20gJ2FwcGl1bS1iYXNlLWRyaXZlcic7XG5cbmxldCBjb21tYW5kcyA9IHt9LCBoZWxwZXJzID0ge30sIGV4dGVuc2lvbnMgPSB7fTtcblxuY29tbWFuZHMudGl0bGUgPSBhc3luYyBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuYXNzZXJ0V2Vidmlld0NvbnRleHQoKTtcbiAgcmV0dXJuIHRoaXMuYXBwTW9kZWwudGl0bGU7XG59O1xuXG5jb21tYW5kcy5rZXlzID0gYXN5bmMgZnVuY3Rpb24gKHZhbHVlKSB7XG4gIGlmICghdGhpcy5mb2N1c2VkRWxJZCkge1xuICAgIHRocm93IG5ldyBlcnJvcnMuSW52YWxpZEVsZW1lbnRTdGF0ZUVycm9yKCk7XG4gIH1cbiAgYXdhaXQgdGhpcy5zZXRWYWx1ZSh2YWx1ZSwgdGhpcy5mb2N1c2VkRWxJZCk7XG59O1xuXG5jb21tYW5kcy5zZXRHZW9Mb2NhdGlvbiA9IGFzeW5jIGZ1bmN0aW9uIChsb2NhdGlvbikge1xuICAvLyBUT0RPIHRlc3QgdGhpcyBhZGVxdWF0ZWx5IG9uY2UgV0QgYnVnIGlzIGZpeGVkXG4gIHRoaXMuYXBwTW9kZWwubGF0ID0gbG9jYXRpb24ubGF0aXR1ZGU7XG4gIHRoaXMuYXBwTW9kZWwubG9uZyA9IGxvY2F0aW9uLmxvbmdpdHVkZTtcbn07XG5cbmNvbW1hbmRzLmdldEdlb0xvY2F0aW9uID0gYXN5bmMgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5hcHBNb2RlbC5jdXJyZW50R2VvTG9jYXRpb247XG59O1xuXG5jb21tYW5kcy5nZXRQYWdlU291cmNlID0gYXN5bmMgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5hcHBNb2RlbC5yYXdYbWw7XG59O1xuXG5jb21tYW5kcy5nZXRPcmllbnRhdGlvbiA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuYXBwTW9kZWwub3JpZW50YXRpb247XG59O1xuXG5jb21tYW5kcy5zZXRPcmllbnRhdGlvbiA9IGFzeW5jIGZ1bmN0aW9uIChvKSB7XG4gIGlmICghXy5pbmNsdWRlcyhbXCJMQU5EU0NBUEVcIiwgXCJQT1JUUkFJVFwiXSwgbykpIHtcbiAgICB0aHJvdyBuZXcgZXJyb3JzLlVua25vd25FcnJvcihcIk9yaWVudGF0aW9uIG11c3QgYmUgTEFORFNDQVBFIG9yIFBPUlRSQUlUXCIpO1xuICB9XG4gIHRoaXMuYXBwTW9kZWwub3JpZW50YXRpb24gPSBvO1xufTtcblxuY29tbWFuZHMuZ2V0U2NyZWVuc2hvdCA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuYXBwTW9kZWwuZ2V0U2NyZWVuc2hvdCgpO1xufTtcblxuT2JqZWN0LmFzc2lnbihleHRlbnNpb25zLCBjb21tYW5kcywgaGVscGVycyk7XG5leHBvcnQgeyBjb21tYW5kcywgaGVscGVycyB9O1xuZXhwb3J0IGRlZmF1bHQgZXh0ZW5zaW9ucztcbiJdLCJmaWxlIjoibGliL2NvbW1hbmRzL2dlbmVyYWwuanMiLCJzb3VyY2VSb290IjoiLi4vLi4vLi4ifQ==
