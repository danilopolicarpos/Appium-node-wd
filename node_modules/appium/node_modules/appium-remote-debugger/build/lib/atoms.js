"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getAtoms = getAtoms;
exports.default = void 0;

require("source-map-support/register");

var _appiumSupport = require("appium-support");

var _path = _interopRequireDefault(require("path"));

const atomsCache = {};

async function getAtoms(atomName) {
  const atomFileName = __filename.includes('build/lib/atoms') ? _path.default.resolve(__dirname, '..', '..', 'atoms', `${atomName}.js`) : _path.default.resolve(__dirname, '..', 'atoms', `${atomName}.js`);

  if (!atomsCache.hasOwnProperty(atomName)) {
    try {
      atomsCache[atomName] = await _appiumSupport.fs.readFile(atomFileName);
    } catch (e) {
      throw new Error(`Unable to load Atom '${atomName}' from file '${atomFileName}'`);
    }
  }

  return atomsCache[atomName];
}

var _default = getAtoms;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9hdG9tcy5qcyJdLCJuYW1lcyI6WyJhdG9tc0NhY2hlIiwiZ2V0QXRvbXMiLCJhdG9tTmFtZSIsImF0b21GaWxlTmFtZSIsIl9fZmlsZW5hbWUiLCJpbmNsdWRlcyIsInBhdGgiLCJyZXNvbHZlIiwiX19kaXJuYW1lIiwiaGFzT3duUHJvcGVydHkiLCJmcyIsInJlYWRGaWxlIiwiZSIsIkVycm9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFHQSxNQUFNQSxVQUFVLEdBQUcsRUFBbkI7O0FBRUEsZUFBZUMsUUFBZixDQUF5QkMsUUFBekIsRUFBbUM7QUFDakMsUUFBTUMsWUFBWSxHQUFHQyxVQUFVLENBQUNDLFFBQVgsQ0FBb0IsaUJBQXBCLElBQ25CQyxjQUFLQyxPQUFMLENBQWFDLFNBQWIsRUFBd0IsSUFBeEIsRUFBOEIsSUFBOUIsRUFBb0MsT0FBcEMsRUFBOEMsR0FBRU4sUUFBUyxLQUF6RCxDQURtQixHQUVuQkksY0FBS0MsT0FBTCxDQUFhQyxTQUFiLEVBQXdCLElBQXhCLEVBQThCLE9BQTlCLEVBQXdDLEdBQUVOLFFBQVMsS0FBbkQsQ0FGRjs7QUFLQSxNQUFJLENBQUNGLFVBQVUsQ0FBQ1MsY0FBWCxDQUEwQlAsUUFBMUIsQ0FBTCxFQUEwQztBQUN4QyxRQUFJO0FBQ0ZGLE1BQUFBLFVBQVUsQ0FBQ0UsUUFBRCxDQUFWLEdBQXVCLE1BQU1RLGtCQUFHQyxRQUFILENBQVlSLFlBQVosQ0FBN0I7QUFDRCxLQUZELENBRUUsT0FBT1MsQ0FBUCxFQUFVO0FBQ1YsWUFBTSxJQUFJQyxLQUFKLENBQVcsd0JBQXVCWCxRQUFTLGdCQUFlQyxZQUFhLEdBQXZFLENBQU47QUFDRDtBQUNGOztBQUVELFNBQU9ILFVBQVUsQ0FBQ0UsUUFBRCxDQUFqQjtBQUNEOztlQUdjRCxRIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZnMgfSBmcm9tICdhcHBpdW0tc3VwcG9ydCc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuXG5jb25zdCBhdG9tc0NhY2hlID0ge307XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEF0b21zIChhdG9tTmFtZSkge1xuICBjb25zdCBhdG9tRmlsZU5hbWUgPSBfX2ZpbGVuYW1lLmluY2x1ZGVzKCdidWlsZC9saWIvYXRvbXMnKSA/XG4gICAgcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJy4uJywgJy4uJywgJ2F0b21zJywgYCR7YXRvbU5hbWV9LmpzYCkgOlxuICAgIHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICcuLicsICdhdG9tcycsIGAke2F0b21OYW1lfS5qc2ApO1xuXG4gIC8vIGNoZWNrIGlmIHdlIGhhdmUgYWxyZWFkeSBsb2FkZWQgYW4gY2FjaGVkIHRoaXMgYXRvbVxuICBpZiAoIWF0b21zQ2FjaGUuaGFzT3duUHJvcGVydHkoYXRvbU5hbWUpKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF0b21zQ2FjaGVbYXRvbU5hbWVdID0gYXdhaXQgZnMucmVhZEZpbGUoYXRvbUZpbGVOYW1lKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBsb2FkIEF0b20gJyR7YXRvbU5hbWV9JyBmcm9tIGZpbGUgJyR7YXRvbUZpbGVOYW1lfSdgKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXRvbXNDYWNoZVthdG9tTmFtZV07XG59XG5cbmV4cG9ydCB7IGdldEF0b21zIH07XG5leHBvcnQgZGVmYXVsdCBnZXRBdG9tcztcbiJdLCJmaWxlIjoibGliL2F0b21zLmpzIiwic291cmNlUm9vdCI6Ii4uLy4uIn0=
