"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.startServer = startServer;

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _logger = _interopRequireDefault(require("./logger"));

var _appiumBaseDriver = require("appium-base-driver");

var _driver = require("./driver");

function startServer(_x, _x2) {
  return _startServer.apply(this, arguments);
}

function _startServer() {
  _startServer = (0, _asyncToGenerator2.default)(function* (port, address) {
    let driver = new _driver.WindowsDriver({
      port,
      address
    });
    let router = (0, _appiumBaseDriver.routeConfiguringFunction)(driver);
    let server = yield (0, _appiumBaseDriver.server)(router, port, address);

    _logger.default.info(`WindowsDriver server listening on http://${address}:${port}`);

    return server;
  });
  return _startServer.apply(this, arguments);
}require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9zZXJ2ZXIuanMiXSwibmFtZXMiOlsic3RhcnRTZXJ2ZXIiLCJwb3J0IiwiYWRkcmVzcyIsImRyaXZlciIsIldpbmRvd3NEcml2ZXIiLCJyb3V0ZXIiLCJzZXJ2ZXIiLCJsb2ciLCJpbmZvIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztTQUVlQSxXOzs7OztpREFBZixXQUE0QkMsSUFBNUIsRUFBa0NDLE9BQWxDLEVBQTJDO0FBQ3pDLFFBQUlDLE1BQU0sR0FBRyxJQUFJQyxxQkFBSixDQUFrQjtBQUFDSCxNQUFBQSxJQUFEO0FBQU9DLE1BQUFBO0FBQVAsS0FBbEIsQ0FBYjtBQUNBLFFBQUlHLE1BQU0sR0FBRyxnREFBeUJGLE1BQXpCLENBQWI7QUFDQSxRQUFJRyxNQUFNLFNBQVMsOEJBQVdELE1BQVgsRUFBbUJKLElBQW5CLEVBQXlCQyxPQUF6QixDQUFuQjs7QUFDQUssb0JBQUlDLElBQUosQ0FBVSw0Q0FBMkNOLE9BQVEsSUFBR0QsSUFBSyxFQUFyRTs7QUFDQSxXQUFPSyxNQUFQO0FBQ0QsRyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBsb2cgZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHsgc2VydmVyIGFzIGJhc2VTZXJ2ZXIsIHJvdXRlQ29uZmlndXJpbmdGdW5jdGlvbiB9IGZyb20gJ2FwcGl1bS1iYXNlLWRyaXZlcic7XG5pbXBvcnQgeyBXaW5kb3dzRHJpdmVyIH0gZnJvbSAnLi9kcml2ZXInO1xuXG5hc3luYyBmdW5jdGlvbiBzdGFydFNlcnZlciAocG9ydCwgYWRkcmVzcykge1xuICBsZXQgZHJpdmVyID0gbmV3IFdpbmRvd3NEcml2ZXIoe3BvcnQsIGFkZHJlc3N9KTtcbiAgbGV0IHJvdXRlciA9IHJvdXRlQ29uZmlndXJpbmdGdW5jdGlvbihkcml2ZXIpO1xuICBsZXQgc2VydmVyID0gYXdhaXQgYmFzZVNlcnZlcihyb3V0ZXIsIHBvcnQsIGFkZHJlc3MpO1xuICBsb2cuaW5mbyhgV2luZG93c0RyaXZlciBzZXJ2ZXIgbGlzdGVuaW5nIG9uIGh0dHA6Ly8ke2FkZHJlc3N9OiR7cG9ydH1gKTtcbiAgcmV0dXJuIHNlcnZlcjtcbn1cblxuZXhwb3J0IHsgc3RhcnRTZXJ2ZXIgfTtcbiJdLCJmaWxlIjoibGliL3NlcnZlci5qcyIsInNvdXJjZVJvb3QiOiIuLi8uLiJ9
