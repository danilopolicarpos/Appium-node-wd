"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

require("source-map-support/register");

var _appiumSupport = require("appium-support");

var _doctor = require("./doctor");

var _utils = require("./utils");

require("colors");

class EnvVarAndPathCheck extends _doctor.DoctorCheck {
  constructor(varName) {
    super();
    this.varName = varName;
  }

  async diagnose() {
    let varValue = process.env[this.varName];

    if (typeof varValue === 'undefined') {
      return (0, _utils.nok)(`${this.varName} is NOT set!`);
    }

    return (await _appiumSupport.fs.exists(varValue)) ? (0, _utils.ok)(`${this.varName} is set to: ${varValue}`) : (0, _utils.nok)(`${this.varName} is set to '${varValue}' but this is NOT a valid path!`);
  }

  fix() {
    return `Manually configure ${this.varName.bold}.`;
  }

}

var _default = EnvVarAndPathCheck;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9lbnYuanMiXSwibmFtZXMiOlsiRW52VmFyQW5kUGF0aENoZWNrIiwiRG9jdG9yQ2hlY2siLCJjb25zdHJ1Y3RvciIsInZhck5hbWUiLCJkaWFnbm9zZSIsInZhclZhbHVlIiwicHJvY2VzcyIsImVudiIsImZzIiwiZXhpc3RzIiwiZml4IiwiYm9sZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBR0EsTUFBTUEsa0JBQU4sU0FBaUNDLG1CQUFqQyxDQUE2QztBQUMzQ0MsRUFBQUEsV0FBVyxDQUFFQyxPQUFGLEVBQVc7QUFDcEI7QUFDQSxTQUFLQSxPQUFMLEdBQWVBLE9BQWY7QUFDRDs7QUFFRCxRQUFNQyxRQUFOLEdBQWtCO0FBQ2hCLFFBQUlDLFFBQVEsR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVksS0FBS0osT0FBakIsQ0FBZjs7QUFDQSxRQUFJLE9BQU9FLFFBQVAsS0FBb0IsV0FBeEIsRUFBcUM7QUFDbkMsYUFBTyxnQkFBSyxHQUFFLEtBQUtGLE9BQVEsY0FBcEIsQ0FBUDtBQUNEOztBQUNELFdBQU8sT0FBTUssa0JBQUdDLE1BQUgsQ0FBVUosUUFBVixDQUFOLElBQTRCLGVBQUksR0FBRSxLQUFLRixPQUFRLGVBQWNFLFFBQVMsRUFBMUMsQ0FBNUIsR0FDTCxnQkFBSyxHQUFFLEtBQUtGLE9BQVEsZUFBY0UsUUFBUyxpQ0FBM0MsQ0FERjtBQUVEOztBQUVESyxFQUFBQSxHQUFHLEdBQUk7QUFDTCxXQUFRLHNCQUFxQixLQUFLUCxPQUFMLENBQWFRLElBQUssR0FBL0M7QUFDRDs7QUFqQjBDOztlQXFCOUJYLGtCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZnMgfSBmcm9tICdhcHBpdW0tc3VwcG9ydCc7XG5pbXBvcnQgeyBEb2N0b3JDaGVjayB9IGZyb20gJy4vZG9jdG9yJztcbmltcG9ydCB7IG9rLCBub2sgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCAnY29sb3JzJztcblxuLy8gQ2hlY2sgZW52IHZhcmlhYmxlc1xuY2xhc3MgRW52VmFyQW5kUGF0aENoZWNrIGV4dGVuZHMgRG9jdG9yQ2hlY2sge1xuICBjb25zdHJ1Y3RvciAodmFyTmFtZSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy52YXJOYW1lID0gdmFyTmFtZTtcbiAgfVxuXG4gIGFzeW5jIGRpYWdub3NlICgpIHtcbiAgICBsZXQgdmFyVmFsdWUgPSBwcm9jZXNzLmVudlt0aGlzLnZhck5hbWVdO1xuICAgIGlmICh0eXBlb2YgdmFyVmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gbm9rKGAke3RoaXMudmFyTmFtZX0gaXMgTk9UIHNldCFgKTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IGZzLmV4aXN0cyh2YXJWYWx1ZSkgPyBvayhgJHt0aGlzLnZhck5hbWV9IGlzIHNldCB0bzogJHt2YXJWYWx1ZX1gKSA6XG4gICAgICBub2soYCR7dGhpcy52YXJOYW1lfSBpcyBzZXQgdG8gJyR7dmFyVmFsdWV9JyBidXQgdGhpcyBpcyBOT1QgYSB2YWxpZCBwYXRoIWApO1xuICB9XG5cbiAgZml4ICgpIHtcbiAgICByZXR1cm4gYE1hbnVhbGx5IGNvbmZpZ3VyZSAke3RoaXMudmFyTmFtZS5ib2xkfS5gO1xuICB9XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgRW52VmFyQW5kUGF0aENoZWNrO1xuIl0sImZpbGUiOiJsaWIvZW52LmpzIiwic291cmNlUm9vdCI6Ii4uLy4uIn0=
